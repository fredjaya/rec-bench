# From: https://github.com/tbrunetti/python_container/blob/master/python_env_v0.1_recipe.txt

Bootstrap: debootstrap
OSVersion: xenial
MirrorURL: http://us.archive.ubuntu.com/ubuntu/
Include: apt

%post
        echo "Installing python and dependencies!"
        apt-get -y update
      	apt-get -y install software-properties-common
      	apt-add-repository universe
      	apt-get -y update
      	apt-get -y install zlib1g-dev
      	apt-get -y install liblzo2-dev
      	apt-get -y install libnetcdf-dev netcdf-bin
      	apt-get -y install build-essential checkinstall
      	apt-get -y install libreadline-gplv2-dev libncursesw5-dev libssl-dev
        apt-get -y install python3
        apt-get -y install python-pip
        echo "Verifiying pip install"
        pip -V
        pip install matplotlib
        pip install sys
        pip install re
        apt-get clean

%environment
        export PYTHONPATH="${PYTHONPATH}:/mnt/"
	      export PATH="${PATH}:/mnt/"
	      export PATH="${PATH}:/usr/local/bin/"
	      export PYTHONPATH="${PYTHONPATH}:/usr/local/bin/"

%runscript
        exec "$@"

%test
        python3 -V
        pip -V
